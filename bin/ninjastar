#!/usr/bin/env node
// Generated by CoffeeScript 1.9.3
(function() {
  var NinjaStar, main, main_, minimist;

  minimist = require('minimist');

  NinjaStar = require('ninja-star');

  main = function() {
    var args, configurefile;
    args = minimist(process.argv.slice(2));
    if (args._.length === 0) {
      return console.log("usage: ninjastar configfile");
    } else {
      configurefile = args._[0];
      return main_(configurefile, args);
    }
  };

  main_ = function(configurefile, args) {
    var first, s, second, third;
    s = new NinjaStar;
    s.loadFromFile(configurefile);
    first = function() {
      return s.generateNinja(second);
    };
    second = function() {
      if (args.build) {
        return s.doNinja(third);
      } else {
        return third();
      }
    };
    third = function() {
      if (args.autobuild) {
        return s.autobuild();
      }
    };
    return first();
  };

  if (require.main === module) {
    main();
  }

}).call(this);
